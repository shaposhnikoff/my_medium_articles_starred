
# AWS — Difference between SQS and SNS

SQS (Simple Queue Service) vs SNS (Simple Notification Service) in AWS

![SNS and SQS](https://cdn-images-1.medium.com/max/2000/1*DRrTtdyah9NHwR0VCm6MWA.png)*SNS and SQS*

## **SNS (Simple Notification Service)**

![SNS](https://cdn-images-1.medium.com/max/2000/1*mdUPKzrfJFuXa4d43KhKUQ.png)*SNS*

*Amazon SNS is a fast, flexible, fully managed push notification service that lets you send individual messages or to bulk messages to large numbers of recipients. Amazon SNS makes it simple and cost effective to send push notifications to mobile device users, email recipients or even send messages to other distributed services.*

A distributed publish-subscribe system. Messages are pushed to subscribers as and when they are sent by publishers to SNS ,SNS supports several end points such as email, sms, http end point and SQS. If you want unknown number and type of subscribers to receive messages, you need SNS.

With Amazon SNS, you can send *push notifications* to Apple, Google, Fire OS, and Windows devices , as well as to Android devices in China with Baidu Cloud Push. You can use SNS to send SMS messages to mobile device users in the US or to email recipients worldwide.

**SNS** is a distributed **publish-subscribe** system. Messages are **pushed** to subscribers as and when they are sent by publishers to SNS.

## **SQS ( Simple Queue Service)**

![SQS](https://cdn-images-1.medium.com/max/2000/1*7eL3udb6Cto4I9Ly1sN8oA.jpeg)*SQS*

***SQS** is distributed **queuing** system. Messages are not pushed to receivers. Receivers have to poll SQS to receive messages. Messages can’t be received by multiple receivers at the same time. Any one receiver can receive a message, process and delete it. Other receivers do not receive the same message later. 
*Polling inherently introduces some latency in message delivery in SQS unlike SNS where messages are immediately pushed to subscribers.

SQS is mainly used to decouple applications or integrate applications. Messages can be stored in SQS for short duration of time (max 14 days). SNS distributes several copies of message to several subscribers. For example, lets say you want to replicate data generated by an application to several storage systems. You could use SNS and send this data to multiple subscribers, each replicating the messages it receives to different storage systems (s3, hard disk on your host, database, etc.).

SNS supports several end points such as email, sms, http end point and SQS. If you want unknown number and type of subscribers to receive messages, you need SNS.

### **Differences:**

***Entity Type***
*SQS *: Queue (Similar to JMS)
*SNS *: Topic (Pub/Sub system)

***Message consumption
**SQS *: Pull Mechanism — Consumers poll and pull messages from SQS
*SNS *: Push Mechanism — SNS Pushes messages to consumers

***Use Case
**SQS *: Decoupling two applications and allowing parallel asynchronous processing
*SNS *: Fanout — Meaning allowing same message to be processed in multiple ways

***Persistence
**SQS *: Messages are persisted for some (configurable) duration is no consumer available
*SNS *: No persistence. Whichever consumer is present at the time of message arrival, get the message and the message is deleted. If no consumers available then the message is lost.

In SQS the message delivery is guaranteed but in SNS it is not.

***Consumer Type
**SQS *: All the consumers are supposed to be identical and hence process the messages in exact same way
*SNS *: All the consumers are (supposed to be) processing the messages in different ways

***Sample applications
**SQS *: Jobs framework. Where the Jobs are submitted to SQS and the consumers at the other end can process the jobs asynchronously. And if the job frequency increases then the number of consumers can be increased for parallel processing
*SNS *: Image processing. If someone uploads an image to S3 then watermark that image, create a thumbnail and also send a ThankYou email. In that case S3 can send notification to SNS Topic and 3 consumers can be attached to SNS topic. 1st one watermarks the image, 2nd one creates a thumbnail and the 3rd one send a ThankYou email. All of them receiving the same message (image URL) and doing their corresponding processing in parallel.

You don’t have to couple SNS and SQS always. You can have SNS send messages to email, sms or http end point apart from SQS. There are advantages to coupling SNS with SQS. You may not want an external service to make connections to your hosts (firewall may block all incoming connections to your host from outside). Your end point may just die because of heavy volume of messages. Email and SMS maybe not your choice of processing messages quickly. By coupling SNS with SQS, you can receive messages at your pace. It allows clients to be offline, tolerant to network and host failures. You also achieve guaranteed delivery. If you configure SNS to send messages to an http end point or email or SMS, several failures to send message may result in message being dropped.

SQS is mainly used to decouple applications or integrate applications. Messages can be stored in SQS for short duration of time (max 14 days). SNS distributes several copies of message to several subscribers. For example, lets say you want to replicate data generated by an application to several storage systems. You could use SNS and send this data to multiple subscribers, each replicating the messages it receives to different storage systems (s3, hard disk on your host, database, etc.).

*Happy Clouding!!!*
